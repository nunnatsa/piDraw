<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="740px" preserveAspectRatio="none" style="width:1882px;height:740px;" version="1.1" viewBox="0 0 1882 740" width="1882px" zoomAndPan="magnify"><defs><filter height="300%" id="frmg4xkhc3bzb" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[7623cd3a7304b0842048101652fe2647]
cluster datatype--><polygon fill="#FFFFFF" filter="url(#frmg4xkhc3bzb)" points="1659,650,1734,650,1741,672.2969,1744,672.2969,1744,733,1659,733,1659,650" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="1659" x2="1741" y1="672.2969" y2="672.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="69" x="1663" y="664.9951">datatype</text><!--MD5=[588c463f218493110eb7fbaaa6e40c41]
cluster canvas--><polygon fill="#FFFFFF" filter="url(#frmg4xkhc3bzb)" points="1314,204,1375,204,1382,226.2969,1865,226.2969,1865,625,1314,625,1314,204" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="1314" x2="1382" y1="226.2969" y2="226.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="55" x="1318" y="218.9951">canvas</text><!--MD5=[dbbd9b086b33c67a7e908e807cc7146c]
cluster notifier--><polygon fill="#FFFFFF" filter="url(#frmg4xkhc3bzb)" points="274,229.5,337,229.5,344,251.7969,506,251.7969,506,593,274,593,274,229.5" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="274" x2="344" y1="251.7969" y2="251.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="57" x="278" y="244.4951">notifier</text><!--MD5=[08cfbaecb6317b1e15f6360cd8b42728]
cluster http--><polygon fill="#FFFFFF" filter="url(#frmg4xkhc3bzb)" points="32,268,70,268,77,290.2969,256,290.2969,256,351,32,351,32,268" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="32" x2="77" y1="290.2969" y2="290.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="32" x="36" y="282.9951">http</text><!--MD5=[35dd84c23ad91445a3974d1258f96446]
cluster webapp--><polygon fill="#FFFFFF" filter="url(#frmg4xkhc3bzb)" points="16,25.5,85,25.5,92,47.7969,393,47.7969,393,159.5,16,159.5,16,25.5" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="16" x2="92" y1="47.7969" y2="47.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="63" x="20" y="40.4951">webapp</text><!--MD5=[10ea673caf457862023e152271927b45]
cluster controller--><polygon fill="#FFFFFF" filter="url(#frmg4xkhc3bzb)" points="432,6,515,6,522,28.2969,746,28.2969,746,179,432,179,432,6" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="432" x2="522" y1="28.2969" y2="28.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="77" x="436" y="20.9951">controller</text><!--MD5=[1f3a544d7024909bf44d5cb1e29d76b4]
cluster hat--><polygon fill="#FFFFFF" filter="url(#frmg4xkhc3bzb)" points="524,242.5,555,242.5,562,264.7969,1306,264.7969,1306,376.5,524,376.5,524,242.5" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="524" x2="562" y1="264.7969" y2="264.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="25" x="528" y="257.4951">hat</text><!--MD5=[12d58735ad6c6314144f13768f68bf64]
class datatype.Color--><rect codeLine="2" fill="#FEFECE" filter="url(#frmg4xkhc3bzb)" height="48" id="datatype.Color" style="stroke:#A80036;stroke-width:1.5;" width="64" x="1669" y="677"/><ellipse cx="1684" cy="693" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1686.9688,698.6406 Q1686.3906,698.9375 1685.75,699.0781 Q1685.1094,699.2344 1684.4063,699.2344 Q1681.9063,699.2344 1680.5781,697.5938 Q1679.2656,695.9375 1679.2656,692.8125 Q1679.2656,689.6875 1680.5781,688.0313 Q1681.9063,686.375 1684.4063,686.375 Q1685.1094,686.375 1685.75,686.5313 Q1686.4063,686.6875 1686.9688,686.9844 L1686.9688,689.7031 Q1686.3438,689.125 1685.75,688.8594 Q1685.1563,688.5781 1684.5313,688.5781 Q1683.1875,688.5781 1682.5,689.6563 Q1681.8125,690.7188 1681.8125,692.8125 Q1681.8125,694.9063 1682.5,695.9844 Q1683.1875,697.0469 1684.5313,697.0469 Q1685.1563,697.0469 1685.75,696.7813 Q1686.3438,696.5 1686.9688,695.9219 L1686.9688,698.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="32" x="1698" y="697.1543">Color</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1670" x2="1732" y1="709" y2="709"/><line style="stroke:#A80036;stroke-width:1.5;" x1="1670" x2="1732" y1="717" y2="717"/><!--MD5=[5c8291e5868f8f7337e1ce5cb116bef8]
class canvas.Canvas--><rect codeLine="4" fill="#FEFECE" filter="url(#frmg4xkhc3bzb)" height="99.2188" id="canvas.Canvas" style="stroke:#A80036;stroke-width:1.5;" width="130" x="1727" y="492.5"/><ellipse cx="1765.85" cy="508.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1768.8188,514.1406 Q1768.2406,514.4375 1767.6,514.5781 Q1766.9594,514.7344 1766.2563,514.7344 Q1763.7563,514.7344 1762.4281,513.0938 Q1761.1156,511.4375 1761.1156,508.3125 Q1761.1156,505.1875 1762.4281,503.5313 Q1763.7563,501.875 1766.2563,501.875 Q1766.9594,501.875 1767.6,502.0313 Q1768.2563,502.1875 1768.8188,502.4844 L1768.8188,505.2031 Q1768.1938,504.625 1767.6,504.3594 Q1767.0063,504.0781 1766.3813,504.0781 Q1765.0375,504.0781 1764.35,505.1563 Q1763.6625,506.2188 1763.6625,508.3125 Q1763.6625,510.4063 1764.35,511.4844 Q1765.0375,512.5469 1766.3813,512.5469 Q1767.0063,512.5469 1767.6,512.2813 Q1768.1938,512 1768.8188,511.4219 L1768.8188,514.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="45" x="1785.15" y="512.6543">Canvas</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1728" x2="1856" y1="524.5" y2="524.5"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1735" y="532.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="99" x="1747" y="538.7104">datatype.Color[][]</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1728" x2="1856" y1="545.3047" y2="545.3047"/><ellipse cx="1738" cy="556.3047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="87" x="1747" y="559.5151">Set(cr *Cursor)</text><ellipse cx="1738" cy="569.1094" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="104" x="1747" y="572.3198">Delete(cr *Cursor)</text><ellipse cx="1738" cy="581.9141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="40" x="1747" y="585.1245">Reset()</text><!--MD5=[e913e7da6c35842ef9edbd43f9863f8a]
class canvas.Board--><rect codeLine="28" fill="#FEFECE" filter="url(#frmg4xkhc3bzb)" height="176.0469" id="canvas.Board" style="stroke:#A80036;stroke-width:1.5;" width="166" x="1430" y="231"/><ellipse cx="1490.25" cy="247" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1493.2188,252.6406 Q1492.6406,252.9375 1492,253.0781 Q1491.3594,253.2344 1490.6563,253.2344 Q1488.1563,253.2344 1486.8281,251.5938 Q1485.5156,249.9375 1485.5156,246.8125 Q1485.5156,243.6875 1486.8281,242.0313 Q1488.1563,240.375 1490.6563,240.375 Q1491.3594,240.375 1492,240.5313 Q1492.6563,240.6875 1493.2188,240.9844 L1493.2188,243.7031 Q1492.5938,243.125 1492,242.8594 Q1491.4063,242.5781 1490.7813,242.5781 Q1489.4375,242.5781 1488.75,243.6563 Q1488.0625,244.7188 1488.0625,246.8125 Q1488.0625,248.9063 1488.75,249.9844 Q1489.4375,251.0469 1490.7813,251.0469 Q1491.4063,251.0469 1492,250.7813 Q1492.5938,250.5 1493.2188,249.9219 L1493.2188,252.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="37" x="1510.75" y="251.1543">Board</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1431" x2="1595" y1="263" y2="263"/><ellipse cx="1441" cy="274" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="140" x="1450" y="277.2104">Canvas : canvas.Canvas</text><ellipse cx="1441" cy="286.8047" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="134" x="1450" y="290.0151">Cursor : canvas.Cursor</text><ellipse cx="1441" cy="299.6094" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="140" x="1450" y="302.8198">Window : canvas.Window</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1431" x2="1595" y1="309.4141" y2="309.4141"/><ellipse cx="1441" cy="320.4141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="52" x="1450" y="323.6245">MoveUp()</text><ellipse cx="1441" cy="333.2188" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="68" x="1450" y="336.4292">MoveDown()</text><ellipse cx="1441" cy="346.0234" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="58" x="1450" y="349.2339">MoveLeft()</text><ellipse cx="1441" cy="358.8281" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="65" x="1450" y="362.0386">MoveRight()</text><ellipse cx="1441" cy="371.6328" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="63" x="1450" y="374.8433">DrawPixel()</text><ellipse cx="1441" cy="384.4375" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="70" x="1450" y="387.6479">DeletePixel()</text><ellipse cx="1441" cy="397.2422" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="40" x="1450" y="400.4526">Reset()</text><!--MD5=[75a78c80d57ad66b781a53a02066829b]
class canvas.Cursor--><rect codeLine="17" fill="#FEFECE" filter="url(#frmg4xkhc3bzb)" height="150.4375" id="canvas.Cursor" style="stroke:#A80036;stroke-width:1.5;" width="171" x="1322.5" y="467"/><ellipse cx="1383.25" cy="483" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1386.2188,488.6406 Q1385.6406,488.9375 1385,489.0781 Q1384.3594,489.2344 1383.6563,489.2344 Q1381.1563,489.2344 1379.8281,487.5938 Q1378.5156,485.9375 1378.5156,482.8125 Q1378.5156,479.6875 1379.8281,478.0313 Q1381.1563,476.375 1383.6563,476.375 Q1384.3594,476.375 1385,476.5313 Q1385.6563,476.6875 1386.2188,476.9844 L1386.2188,479.7031 Q1385.5938,479.125 1385,478.8594 Q1384.4063,478.5781 1383.7813,478.5781 Q1382.4375,478.5781 1381.75,479.6563 Q1381.0625,480.7188 1381.0625,482.8125 Q1381.0625,484.9063 1381.75,485.9844 Q1382.4375,487.0469 1383.7813,487.0469 Q1384.4063,487.0469 1385,486.7813 Q1385.5938,486.5 1386.2188,485.9219 L1386.2188,488.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="41" x="1403.75" y="487.1543">Cursor</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1323.5" x2="1492.5" y1="499" y2="499"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1330.5" y="507"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="46" x="1342.5" y="513.2104">x : uint8</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1330.5" y="519.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="46" x="1342.5" y="526.0151">y : uint8</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1323.5" x2="1492.5" y1="532.6094" y2="532.6094"/><ellipse cx="1333.5" cy="543.6094" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="52" x="1342.5" y="546.8198">MoveUp()</text><ellipse cx="1333.5" cy="556.4141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="68" x="1342.5" y="559.6245">MoveDown()</text><ellipse cx="1333.5" cy="569.2188" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="58" x="1342.5" y="572.4292">MoveLeft()</text><ellipse cx="1333.5" cy="582.0234" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="65" x="1342.5" y="585.2339">MoveRight()</text><ellipse cx="1333.5" cy="594.8281" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="140" x="1342.5" y="598.0386">SetColor(datatype.Color)</text><ellipse cx="1333.5" cy="607.6328" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="145" x="1342.5" y="610.8433">GetColor() datatype.Color</text><!--MD5=[194164210cee97d7d3d7fa52edb2ea80]
class canvas.Window--><rect codeLine="41" fill="#FEFECE" filter="url(#frmg4xkhc3bzb)" height="86.4141" id="canvas.Window" style="stroke:#A80036;stroke-width:1.5;" width="163" x="1528.5" y="499"/><ellipse cx="1582.25" cy="515" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1585.2188,520.6406 Q1584.6406,520.9375 1584,521.0781 Q1583.3594,521.2344 1582.6563,521.2344 Q1580.1563,521.2344 1578.8281,519.5938 Q1577.5156,517.9375 1577.5156,514.8125 Q1577.5156,511.6875 1578.8281,510.0313 Q1580.1563,508.375 1582.6563,508.375 Q1583.3594,508.375 1584,508.5313 Q1584.6563,508.6875 1585.2188,508.9844 L1585.2188,511.7031 Q1584.5938,511.125 1584,510.8594 Q1583.4063,510.5781 1582.7813,510.5781 Q1581.4375,510.5781 1580.75,511.6563 Q1580.0625,512.7188 1580.0625,514.8125 Q1580.0625,516.9063 1580.75,517.9844 Q1581.4375,519.0469 1582.7813,519.0469 Q1583.4063,519.0469 1584,518.7813 Q1584.5938,518.5 1585.2188,517.9219 L1585.2188,520.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="47" x="1602.75" y="519.1543">Window</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1529.5" x2="1690.5" y1="531" y2="531"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1536.5" y="539"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="46" x="1548.5" y="545.2104">x : uint8</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1536.5" y="551.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="46" x="1548.5" y="558.0151">y : uint8</text><ellipse cx="1539.5" cy="567.6094" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="137" x="1548.5" y="570.8198">Matrix [][]datatype.Color</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1529.5" x2="1690.5" y1="577.4141" y2="577.4141"/><!--MD5=[5de9db107e3212582b086b95d3c4d63a]
class notifier.Notifier--><rect codeLine="54" fill="#FEFECE" filter="url(#frmg4xkhc3bzb)" height="124.8281" id="notifier.Notifier" style="stroke:#A80036;stroke-width:1.5;" width="215" x="282.5" y="256.5"/><ellipse cx="363.25" cy="272.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M366.2188,278.1406 Q365.6406,278.4375 365,278.5781 Q364.3594,278.7344 363.6563,278.7344 Q361.1563,278.7344 359.8281,277.0938 Q358.5156,275.4375 358.5156,272.3125 Q358.5156,269.1875 359.8281,267.5313 Q361.1563,265.875 363.6563,265.875 Q364.3594,265.875 365,266.0313 Q365.6563,266.1875 366.2188,266.4844 L366.2188,269.2031 Q365.5938,268.625 365,268.3594 Q364.4063,268.0781 363.7813,268.0781 Q362.4375,268.0781 361.75,269.1563 Q361.0625,270.2188 361.0625,272.3125 Q361.0625,274.4063 361.75,275.4844 Q362.4375,276.5469 363.7813,276.5469 Q364.4063,276.5469 365,276.2813 Q365.5938,276 366.2188,275.4219 L366.2188,278.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="45" x="383.75" y="276.6543">Notifier</text><line style="stroke:#A80036;stroke-width:1.5;" x1="283.5" x2="496.5" y1="288.5" y2="288.5"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="290.5" y="296.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="189" x="302.5" y="302.7104">clientMap : map[int64]chan []byte</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="290.5" y="309.3047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="130" x="302.5" y="315.5151">idp : notifier.idProvider</text><line style="stroke:#A80036;stroke-width:1.5;" x1="283.5" x2="496.5" y1="322.1094" y2="322.1094"/><ellipse cx="293.5" cy="333.1094" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="185" x="302.5" y="336.3198">Subscribe(ch chan []byte) : int64</text><ellipse cx="293.5" cy="345.9141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="121" x="302.5" y="349.1245">Unsubscribe(id int64)</text><ellipse cx="293.5" cy="358.7188" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="101" x="302.5" y="361.9292">Notify(data []byte)</text><ellipse cx="293.5" cy="371.5234" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="174" x="302.5" y="374.7339">NotifyOne(id int64, data []byte)</text><!--MD5=[2a01e07b9292ec9f1b80b02424844a73]
class notifier.idProvider--><rect codeLine="49" fill="#FEFECE" filter="url(#frmg4xkhc3bzb)" height="86.4141" id="notifier.idProvider" style="stroke:#A80036;stroke-width:1.5;" width="129" x="325.5" y="499"/><ellipse cx="356.25" cy="515" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M359.2188,520.6406 Q358.6406,520.9375 358,521.0781 Q357.3594,521.2344 356.6563,521.2344 Q354.1563,521.2344 352.8281,519.5938 Q351.5156,517.9375 351.5156,514.8125 Q351.5156,511.6875 352.8281,510.0313 Q354.1563,508.375 356.6563,508.375 Q357.3594,508.375 358,508.5313 Q358.6563,508.6875 359.2188,508.9844 L359.2188,511.7031 Q358.5938,511.125 358,510.8594 Q357.4063,510.5781 356.7813,510.5781 Q355.4375,510.5781 354.75,511.6563 Q354.0625,512.7188 354.0625,514.8125 Q354.0625,516.9063 354.75,517.9844 Q355.4375,519.0469 356.7813,519.0469 Q357.4063,519.0469 358,518.7813 Q358.5938,518.5 359.2188,517.9219 L359.2188,520.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="62" x="373.75" y="519.1543">idProvider</text><line style="stroke:#A80036;stroke-width:1.5;" x1="326.5" x2="453.5" y1="531" y2="531"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="333.5" y="539"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="103" x="345.5" y="545.2104">lock : *sync.Mutex</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="333.5" y="551.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="83" x="345.5" y="558.0151">counter : int64</text><line style="stroke:#A80036;stroke-width:1.5;" x1="326.5" x2="453.5" y1="564.6094" y2="564.6094"/><ellipse cx="336.5" cy="575.6094" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="62" x="345.5" y="578.8198">getNextID()</text><!--MD5=[0a6d5fcb8ed0d74a874d5757e6cf1224]
class http.Handler--><rect codeLine="63" fill="#FEFECE" filter="url(#frmg4xkhc3bzb)" height="48" id="http.Handler" style="stroke:#A80036;stroke-width:1.5;" width="81" x="40.5" y="295"/><ellipse cx="55.5" cy="311" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M51.4219,306.7656 L51.4219,304.6094 L58.8125,304.6094 L58.8125,306.7656 L56.3438,306.7656 L56.3438,314.8438 L58.8125,314.8438 L58.8125,317 L51.4219,317 L51.4219,314.8438 L53.8906,314.8438 L53.8906,306.7656 L51.4219,306.7656 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="49" x="69.5" y="315.1543">Handler</text><line style="stroke:#A80036;stroke-width:1.5;" x1="41.5" x2="120.5" y1="327" y2="327"/><line style="stroke:#A80036;stroke-width:1.5;" x1="41.5" x2="120.5" y1="335" y2="335"/><!--MD5=[585944afcaa19872aef68abc96b6658d]
class http.ServeMux--><rect codeLine="64" fill="#FEFECE" filter="url(#frmg4xkhc3bzb)" height="48" id="http.ServeMux" style="stroke:#A80036;stroke-width:1.5;" width="91" x="156.5" y="295"/><ellipse cx="171.5" cy="311" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M174.4688,316.6406 Q173.8906,316.9375 173.25,317.0781 Q172.6094,317.2344 171.9063,317.2344 Q169.4063,317.2344 168.0781,315.5938 Q166.7656,313.9375 166.7656,310.8125 Q166.7656,307.6875 168.0781,306.0313 Q169.4063,304.375 171.9063,304.375 Q172.6094,304.375 173.25,304.5313 Q173.9063,304.6875 174.4688,304.9844 L174.4688,307.7031 Q173.8438,307.125 173.25,306.8594 Q172.6563,306.5781 172.0313,306.5781 Q170.6875,306.5781 170,307.6563 Q169.3125,308.7188 169.3125,310.8125 Q169.3125,312.9063 170,313.9844 Q170.6875,315.0469 172.0313,315.0469 Q172.6563,315.0469 173.25,314.7813 Q173.8438,314.5 174.4688,313.9219 L174.4688,316.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="59" x="185.5" y="315.1543">ServeMux</text><line style="stroke:#A80036;stroke-width:1.5;" x1="157.5" x2="246.5" y1="327" y2="327"/><line style="stroke:#A80036;stroke-width:1.5;" x1="157.5" x2="246.5" y1="335" y2="335"/><!--MD5=[619d5d7e99a0990cf96fedb3518392dc]
class webapp.index--><rect codeLine="70" fill="#FEFECE" filter="url(#frmg4xkhc3bzb)" height="60.8047" id="webapp.index" style="stroke:#A80036;stroke-width:1.5;" width="114" x="24" y="71.5"/><ellipse cx="61.05" cy="87.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M64.0188,93.1406 Q63.4406,93.4375 62.8,93.5781 Q62.1594,93.7344 61.4563,93.7344 Q58.9563,93.7344 57.6281,92.0938 Q56.3156,90.4375 56.3156,87.3125 Q56.3156,84.1875 57.6281,82.5313 Q58.9563,80.875 61.4563,80.875 Q62.1594,80.875 62.8,81.0313 Q63.4563,81.1875 64.0188,81.4844 L64.0188,84.2031 Q63.3938,83.625 62.8,83.3594 Q62.2063,83.0781 61.5813,83.0781 Q60.2375,83.0781 59.55,84.1563 Q58.8625,85.2188 58.8625,87.3125 Q58.8625,89.4063 59.55,90.4844 Q60.2375,91.5469 61.5813,91.5469 Q62.2063,91.5469 62.8,91.2813 Q63.3938,91 64.0188,90.4219 L64.0188,93.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="33" x="79.95" y="91.6543">index</text><line style="stroke:#A80036;stroke-width:1.5;" x1="25" x2="137" y1="103.5" y2="103.5"/><line style="stroke:#A80036;stroke-width:1.5;" x1="25" x2="137" y1="111.5" y2="111.5"/><ellipse cx="35" cy="122.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="88" x="44" y="125.7104">ServeHTTP(w,r)</text><!--MD5=[d99dc924830e9fb5bb4b2cc4fdbaf350]
class webapp.ClientActions--><rect codeLine="73" fill="#FEFECE" filter="url(#frmg4xkhc3bzb)" height="99.2188" id="webapp.ClientActions" style="stroke:#A80036;stroke-width:1.5;" width="211" x="173.5" y="52.5"/><ellipse cx="234.25" cy="68.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M237.2188,74.1406 Q236.6406,74.4375 236,74.5781 Q235.3594,74.7344 234.6563,74.7344 Q232.1563,74.7344 230.8281,73.0938 Q229.5156,71.4375 229.5156,68.3125 Q229.5156,65.1875 230.8281,63.5313 Q232.1563,61.875 234.6563,61.875 Q235.3594,61.875 236,62.0313 Q236.6563,62.1875 237.2188,62.4844 L237.2188,65.2031 Q236.5938,64.625 236,64.3594 Q235.4063,64.0781 234.7813,64.0781 Q233.4375,64.0781 232.75,65.1563 Q232.0625,66.2188 232.0625,68.3125 Q232.0625,70.4063 232.75,71.4844 Q233.4375,72.5469 234.7813,72.5469 Q235.4063,72.5469 236,72.2813 Q236.5938,72 237.2188,71.4219 L237.2188,74.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="81" x="254.75" y="72.6543">ClientActions</text><line style="stroke:#A80036;stroke-width:1.5;" x1="174.5" x2="383.5" y1="84.5" y2="84.5"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="181.5" y="92.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="123" x="193.5" y="98.7104">mux : *http.ServeMux</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="181.5" y="105.3047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="147" x="193.5" y="111.5151">mailbox : *notifier.Notifier</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="181.5" y="118.1094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="185" x="193.5" y="124.3198">ch : chan&lt;- datatype.ClientEvent</text><line style="stroke:#A80036;stroke-width:1.5;" x1="174.5" x2="383.5" y1="130.9141" y2="130.9141"/><ellipse cx="184.5" cy="141.9141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="149" x="193.5" y="145.1245">GetMux() : *http.ServeMux</text><!--MD5=[15a8035d1e28afc48d32ecfa9945c3ad]
class controller.Controller--><rect codeLine="84" fill="#FEFECE" filter="url(#frmg4xkhc3bzb)" height="137.6328" id="controller.Controller" style="stroke:#A80036;stroke-width:1.5;" width="297" x="440.5" y="33"/><ellipse cx="554.25" cy="49" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M557.2188,54.6406 Q556.6406,54.9375 556,55.0781 Q555.3594,55.2344 554.6563,55.2344 Q552.1563,55.2344 550.8281,53.5938 Q549.5156,51.9375 549.5156,48.8125 Q549.5156,45.6875 550.8281,44.0313 Q552.1563,42.375 554.6563,42.375 Q555.3594,42.375 556,42.5313 Q556.6563,42.6875 557.2188,42.9844 L557.2188,45.7031 Q556.5938,45.125 556,44.8594 Q555.4063,44.5781 554.7813,44.5781 Q553.4375,44.5781 552.75,45.6563 Q552.0625,46.7188 552.0625,48.8125 Q552.0625,50.9063 552.75,51.9844 Q553.4375,53.0469 554.7813,53.0469 Q555.4063,53.0469 556,52.7813 Q556.5938,52.5 557.2188,51.9219 L557.2188,54.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="61" x="574.75" y="53.1543">Controller</text><line style="stroke:#A80036;stroke-width:1.5;" x1="441.5" x2="736.5" y1="65" y2="65"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="448.5" y="73"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="157" x="460.5" y="79.2104">board        : *canvas.Board</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="448.5" y="85.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="120" x="460.5" y="92.0151">theHat       : *hat.Hat</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="448.5" y="98.6094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="214" x="460.5" y="104.8198">hatEvents    : chan datatype.HatEvent</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="448.5" y="111.4141"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="271" x="460.5" y="117.6245">screenEvents : chan *datatype.DisplayMessage</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="448.5" y="124.2188"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="227" x="460.5" y="130.4292">clientEvents : chan datatype.ClientEvent</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="448.5" y="137.0234"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="167" x="460.5" y="143.2339">mailbox      : *notifier.Notifier</text><line style="stroke:#A80036;stroke-width:1.5;" x1="441.5" x2="736.5" y1="149.8281" y2="149.8281"/><ellipse cx="451.5" cy="160.8281" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="36" x="460.5" y="164.0386">Start()</text><!--MD5=[e89a8c69d9cca41c83b17b0a807e7a20]
class hat.HATInterface--><rect codeLine="94" fill="#FEFECE" filter="url(#frmg4xkhc3bzb)" height="73.6094" id="hat.HATInterface" style="stroke:#A80036;stroke-width:1.5;" width="113" x="532.5" y="282"/><ellipse cx="547.5" cy="298" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M543.4219,293.7656 L543.4219,291.6094 L550.8125,291.6094 L550.8125,293.7656 L548.3438,293.7656 L548.3438,301.8438 L550.8125,301.8438 L550.8125,304 L543.4219,304 L543.4219,301.8438 L545.8906,301.8438 L545.8906,293.7656 L543.4219,293.7656 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="81" x="561.5" y="302.1543">HATInterface</text><line style="stroke:#A80036;stroke-width:1.5;" x1="533.5" x2="644.5" y1="314" y2="314"/><line style="stroke:#A80036;stroke-width:1.5;" x1="533.5" x2="644.5" y1="322" y2="322"/><ellipse cx="543.5" cy="333" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="80" x="552.5" y="336.2104">SetChannels()</text><ellipse cx="543.5" cy="345.8047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="36" x="552.5" y="349.0151">Start()</text><!--MD5=[e9fba0fdaa441380737c4ab1555febfb]
class hat.Hat--><rect codeLine="99" fill="#FEFECE" filter="url(#frmg4xkhc3bzb)" height="99.2188" id="hat.Hat" style="stroke:#A80036;stroke-width:1.5;" width="291" x="680.5" y="269.5"/><ellipse cx="810.75" cy="285.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M813.7188,291.1406 Q813.1406,291.4375 812.5,291.5781 Q811.8594,291.7344 811.1563,291.7344 Q808.6563,291.7344 807.3281,290.0938 Q806.0156,288.4375 806.0156,285.3125 Q806.0156,282.1875 807.3281,280.5313 Q808.6563,278.875 811.1563,278.875 Q811.8594,278.875 812.5,279.0313 Q813.1563,279.1875 813.7188,279.4844 L813.7188,282.2031 Q813.0938,281.625 812.5,281.3594 Q811.9063,281.0781 811.2813,281.0781 Q809.9375,281.0781 809.25,282.1563 Q808.5625,283.2188 808.5625,285.3125 Q808.5625,287.4063 809.25,288.4844 Q809.9375,289.5469 811.2813,289.5469 Q811.9063,289.5469 812.5,289.2813 Q813.0938,289 813.7188,288.4219 L813.7188,291.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="22" x="831.25" y="289.6543">Hat</text><line style="stroke:#A80036;stroke-width:1.5;" x1="681.5" x2="970.5" y1="301.5" y2="301.5"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="688.5" y="309.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="214" x="700.5" y="315.7104">hatEvents    : chan datatype.HatEvent</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="688.5" y="322.3047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="265" x="700.5" y="328.5151">screenEvents : chan datatype.DisplayMessage</text><line style="stroke:#A80036;stroke-width:1.5;" x1="681.5" x2="970.5" y1="335.1094" y2="335.1094"/><ellipse cx="691.5" cy="346.1094" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="80" x="700.5" y="349.3198">SetChannels()</text><ellipse cx="691.5" cy="358.9141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="36" x="700.5" y="362.1245">Start()</text><!--MD5=[7d7eac7227214a9c0506a075cdb01f0b]
class hat.HatMock--><rect codeLine="106" fill="#FEFECE" filter="url(#frmg4xkhc3bzb)" height="99.2188" id="hat.HatMock" style="stroke:#A80036;stroke-width:1.5;" width="291" x="1006.5" y="269.5"/><ellipse cx="1120.75" cy="285.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1123.7188,291.1406 Q1123.1406,291.4375 1122.5,291.5781 Q1121.8594,291.7344 1121.1563,291.7344 Q1118.6563,291.7344 1117.3281,290.0938 Q1116.0156,288.4375 1116.0156,285.3125 Q1116.0156,282.1875 1117.3281,280.5313 Q1118.6563,278.875 1121.1563,278.875 Q1121.8594,278.875 1122.5,279.0313 Q1123.1563,279.1875 1123.7188,279.4844 L1123.7188,282.2031 Q1123.0938,281.625 1122.5,281.3594 Q1121.9063,281.0781 1121.2813,281.0781 Q1119.9375,281.0781 1119.25,282.1563 Q1118.5625,283.2188 1118.5625,285.3125 Q1118.5625,287.4063 1119.25,288.4844 Q1119.9375,289.5469 1121.2813,289.5469 Q1121.9063,289.5469 1122.5,289.2813 Q1123.0938,289 1123.7188,288.4219 L1123.7188,291.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="54" x="1141.25" y="289.6543">HatMock</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1007.5" x2="1296.5" y1="301.5" y2="301.5"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1014.5" y="309.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="214" x="1026.5" y="315.7104">hatEvents    : chan datatype.HatEvent</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1014.5" y="322.3047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="265" x="1026.5" y="328.5151">screenEvents : chan datatype.DisplayMessage</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1007.5" x2="1296.5" y1="335.1094" y2="335.1094"/><ellipse cx="1017.5" cy="346.1094" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="80" x="1026.5" y="349.3198">SetChannels()</text><ellipse cx="1017.5" cy="358.9141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="36" x="1026.5" y="362.1245">Start()</text><!--MD5=[6952cd89be22c2145e2f4a616d7e3f6a]
reverse link canvas.Board to canvas.Canvas--><path codeLine="11" d="M1606.768,387.1795 C1639.5902,411.7304 1676.3799,440.0345 1709,467 C1718.7297,475.0431 1728.8695,483.837 1738.5837,492.4818 " fill="none" id="canvas.Board-backto-canvas.Canvas" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#FFFFFF" points="1596.2612,379.3467,1598.6809,386.1397,1605.882,386.5189,1603.4623,379.7258,1596.2612,379.3467" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="1604.0329" y="381.1241">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="1722.5095" y="481.5245">1</text><!--MD5=[5733ad54cc6a841cc7c1b15917a4796f]
reverse link canvas.Board to canvas.Cursor--><path codeLine="12" d="M1465.7932,419.2582 C1458.2781,435.2189 1450.6168,451.4899 1443.4338,466.7453 " fill="none" id="canvas.Board-backto-canvas.Cursor" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#FFFFFF" points="1471.5012,407.1355,1465.3263,410.8599,1466.3893,417.9922,1472.5642,414.2678,1471.5012,407.1355" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="1459.7333" y="427.1258">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="1438.4298" y="455.9101">1</text><!--MD5=[b390a090fa9377eec080759f66c39266]
reverse link canvas.Board to canvas.Window--><path codeLine="13" d="M1556.5244,419.0612 C1568.7101,447.0757 1581.3192,476.0636 1591.231,498.8506 " fill="none" id="canvas.Board-backto-canvas.Window" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#FFFFFF" points="1551.337,407.1355,1550.0622,414.233,1556.1235,418.1396,1557.3983,411.042,1551.337,407.1355" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="1546.1805" y="427.1258">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="1579.6022" y="487.8228">1</text><!--MD5=[1bd19ad27f40df6d842fbfce2439baf5]
reverse link canvas.Canvas to datatype.Color--><path codeLine="14" d="M1756.8658,603.3884 C1742.2388,628.9454 1726.1024,657.1398 1714.9487,676.6281 " fill="none" id="canvas.Canvas-backto-datatype.Color" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#FFFFFF" points="1763.4567,591.8723,1757.0047,595.0928,1757.4959,602.2871,1763.9479,599.0667,1763.4567,591.8723" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[452469374e133d3a87d1c608f466c965]
reverse link canvas.Window to datatype.Color--><path codeLine="15" d="M1641.146,596.4199 C1656.777,623.7312 1674.926,655.442 1687.1048,676.7216 " fill="none" id="canvas.Window-backto-datatype.Color" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#FFFFFF" points="1634.6259,585.0277,1634.1346,592.222,1640.5866,595.4426,1641.0779,588.2483,1634.6259,585.0277" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[a6672210dbf6363b986ba5f4253fe39e]
reverse link notifier.Notifier to notifier.idProvider--><path codeLine="47" d="M390,394.7256 C390,429.4274 390,469.3003 390,498.7989 " fill="none" id="notifier.Notifier-backto-notifier.idProvider" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#FFFFFF" points="390,381.7114,386,387.7114,390,393.7114,394,387.7114,390,381.7114" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="381.5625" y="401.4743">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="381.3875" y="488.0807">1</text><!--MD5=[1a72a0d6edea95fe09b2a4504d02f1fc]
reverse link http.Handler to webapp.index--><path codeLine="66" d="M81,274.8605 C81,232.5326 81,169.7391 81,132.6306 " fill="none" id="http.Handler-backto-webapp.index" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="88.0001,274.8853,81,294.8853,74.0001,274.8852,88.0001,274.8853" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[514636feab4d28dd692d93153947990c]
reverse link webapp.ClientActions to http.ServeMux--><path codeLine="67" d="M256.9953,164.0133 C241.5422,207.563 221.7168,263.4345 210.5829,294.8118 " fill="none" id="webapp.ClientActions-backto-http.ServeMux" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#FFFFFF" points="261.4312,151.5122,255.655,155.8291,257.4183,162.8213,263.1945,158.5044,261.4312,151.5122" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="250.2633" y="171.9465">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="203.7573" y="283.7756">1</text><!--MD5=[c1e612aeeadc73c68afc4d54c924fa07]
reverse link webapp.ClientActions to notifier.Notifier--><path codeLine="68" d="M310.3092,163.2081 C325.2185,192.3551 343.0236,227.1632 358.0184,256.4774 " fill="none" id="webapp.ClientActions-backto-notifier.Notifier" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#FFFFFF" points="304.3265,151.5122,303.4978,158.6755,309.7914,162.1956,310.6201,155.0323,304.3265,151.5122" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="299.4588" y="171.9465">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="345.858" y="245.4655">1</text><!--MD5=[7559edfd06809307419a40f50f1f1218]
reverse link controller.Controller to notifier.Notifier--><path codeLine="80" d="M516.558,180.9945 C493.8325,205.7756 469.0689,232.7791 447.5215,256.2756 " fill="none" id="controller.Controller-backto-notifier.Notifier" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#FFFFFF" points="525.488,171.2568,518.4847,172.9754,517.3775,180.101,524.3808,178.3824,525.488,171.2568" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="511.0533" y="190.6634">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="445.7099" y="245.2404">1</text><!--MD5=[d38ed4a70ea83fb1a36b5119f71b2814]
reverse link controller.Controller to hat.HATInterface--><path codeLine="81" d="M589,184.4171 C589,218.017 589,255.1644 589,281.9044 " fill="none" id="controller.Controller-backto-hat.HATInterface" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#FFFFFF" points="589,171.2568,585,177.2568,589,183.2568,593,177.2568,589,171.2568" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="580.6188" y="190.6634">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="580.2625" y="270.7972">1</text><!--MD5=[dbba5b25e08c55a30e14bf8c7e77d88f]
reverse link controller.Controller to canvas.Board--><path codeLine="82" d="M750.9095,117.4968 C931.9392,136.1043 1212.9788,169.1845 1314,204 C1354.1772,217.8465 1395.3665,240.0752 1429.7723,261.3155 " fill="none" id="controller.Controller-backto-canvas.Board" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#FFFFFF" points="737.7815,116.1547,743.3435,120.7442,749.7193,117.3753,744.1572,112.7857,737.7815,116.1547" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="745.6593" y="113.5776">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="1414.0036" y="252.5807">1</text><!--MD5=[68f97a29e5e71fa293d7e647ce584673]
reverse link hat.HATInterface to hat.Hat--><path codeLine="112" d="M666.1302,319 C670.8871,319 675.6441,319 680.401,319 " fill="none" id="hat.HATInterface-backto-hat.Hat" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="665.9356,325.9999,645.9355,319,665.9355,311.9999,665.9356,325.9999" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[4f2507b74e1682725c0523475890d6a9]
reverse link hat.HATInterface to hat.HatMock--><path codeLine="113" d="M609.8526,263.2108 C624.4255,234.0023 647.2974,202.1403 680.5,191.5 C711.2909,181.6326 940.6833,181.7136 971.5,191.5 C1019.9509,206.8864 1066.6012,240.5011 1100.3354,269.3531 " fill="none" id="hat.HATInterface-backto-hat.HatMock" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="616.0751,266.4392,601.4495,281.772,603.3212,260.6651,616.0751,266.4392" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[8cbcb057ef5ef11110303686bee2f869]
@startuml
'https://plantuml.com/class-diagram
class datatype.Color{}

class canvas.Canvas {
- datatype.Color[][]
+ Set(cr *Cursor)
+ Delete(cr *Cursor)
+ Reset()
}

canvas.Board "1" o- - "1" canvas.Canvas
canvas.Board "1" o- - "1" canvas.Cursor
canvas.Board "1" o- - "1" canvas.Window
canvas.Canvas o- - datatype.Color
canvas.Window o- - datatype.Color

class canvas.Cursor {
- x : uint8
- y : uint8
+ MoveUp()
+ MoveDown()
+ MoveLeft()
+ MoveRight()
+ SetColor(datatype.Color)
+ GetColor() datatype.Color
}

class canvas.Board {
+ Canvas : canvas.Canvas
+ Cursor : canvas.Cursor
+ Window : canvas.Window
+ MoveUp()
+ MoveDown()
+ MoveLeft()
+ MoveRight()
+ DrawPixel()
+ DeletePixel()
+ Reset()
}

class canvas.Window {
- x : uint8
- y : uint8
+ Matrix [][]datatype.Color
}

notifier.Notifier "1" o- - "1" notifier.idProvider

class notifier.idProvider {
- lock : *sync.Mutex
- counter : int64
+ getNextID()
}
class notifier.Notifier {
- clientMap : map[int64]chan []byte
- idp : notifier.idProvider
+ Subscribe(ch chan []byte) : int64
+ Unsubscribe(id int64)
+ Notify(data []byte)
+ NotifyOne(id int64, data []byte)
}

interface http.Handler
class http.ServeMux{}

http.Handler <|- webapp.index
webapp.ClientActions "1" o- - "1" http.ServeMux
webapp.ClientActions "1" o- - "1" notifier.Notifier

class webapp.index {
+ ServeHTTP(w,r)
}
class webapp.ClientActions {
- mux : *http.ServeMux
- mailbox : *notifier.Notifier
- ch : chan<- datatype.ClientEvent
+ GetMux() : *http.ServeMux
}

controller.Controller "1" o- - "1" notifier.Notifier
controller.Controller "1" o- - "1" hat.HATInterface
controller.Controller "1" o- - "1" canvas.Board

class controller.Controller {
- board        : *canvas.Board
- theHat       : *hat.Hat
- hatEvents    : chan datatype.HatEvent
- screenEvents : chan *datatype.DisplayMessage
- clientEvents : chan datatype.ClientEvent
- mailbox      : *notifier.Notifier
+ Start()
}

interface hat.HATInterface {
+ SetChannels()
+ Start()
}

class hat.Hat {
- hatEvents    : chan datatype.HatEvent
- screenEvents : chan datatype.DisplayMessage
+ SetChannels()
+ Start()
}

class hat.HatMock {
- hatEvents    : chan datatype.HatEvent
- screenEvents : chan datatype.DisplayMessage
+ SetChannels()
+ Start()
}
hat.HATInterface <|- hat.Hat
hat.HATInterface <|- hat.HatMock

@enduml

@startuml
class datatype.Color{}

class canvas.Canvas {
- datatype.Color[][]
+ Set(cr *Cursor)
+ Delete(cr *Cursor)
+ Reset()
}

canvas.Board "1" o- - "1" canvas.Canvas
canvas.Board "1" o- - "1" canvas.Cursor
canvas.Board "1" o- - "1" canvas.Window
canvas.Canvas o- - datatype.Color
canvas.Window o- - datatype.Color

class canvas.Cursor {
- x : uint8
- y : uint8
+ MoveUp()
+ MoveDown()
+ MoveLeft()
+ MoveRight()
+ SetColor(datatype.Color)
+ GetColor() datatype.Color
}

class canvas.Board {
+ Canvas : canvas.Canvas
+ Cursor : canvas.Cursor
+ Window : canvas.Window
+ MoveUp()
+ MoveDown()
+ MoveLeft()
+ MoveRight()
+ DrawPixel()
+ DeletePixel()
+ Reset()
}

class canvas.Window {
- x : uint8
- y : uint8
+ Matrix [][]datatype.Color
}

notifier.Notifier "1" o- - "1" notifier.idProvider

class notifier.idProvider {
- lock : *sync.Mutex
- counter : int64
+ getNextID()
}
class notifier.Notifier {
- clientMap : map[int64]chan []byte
- idp : notifier.idProvider
+ Subscribe(ch chan []byte) : int64
+ Unsubscribe(id int64)
+ Notify(data []byte)
+ NotifyOne(id int64, data []byte)
}

interface http.Handler
class http.ServeMux{}

http.Handler <|- webapp.index
webapp.ClientActions "1" o- - "1" http.ServeMux
webapp.ClientActions "1" o- - "1" notifier.Notifier

class webapp.index {
+ ServeHTTP(w,r)
}
class webapp.ClientActions {
- mux : *http.ServeMux
- mailbox : *notifier.Notifier
- ch : chan<- datatype.ClientEvent
+ GetMux() : *http.ServeMux
}

controller.Controller "1" o- - "1" notifier.Notifier
controller.Controller "1" o- - "1" hat.HATInterface
controller.Controller "1" o- - "1" canvas.Board

class controller.Controller {
- board        : *canvas.Board
- theHat       : *hat.Hat
- hatEvents    : chan datatype.HatEvent
- screenEvents : chan *datatype.DisplayMessage
- clientEvents : chan datatype.ClientEvent
- mailbox      : *notifier.Notifier
+ Start()
}

interface hat.HATInterface {
+ SetChannels()
+ Start()
}

class hat.Hat {
- hatEvents    : chan datatype.HatEvent
- screenEvents : chan datatype.DisplayMessage
+ SetChannels()
+ Start()
}

class hat.HatMock {
- hatEvents    : chan datatype.HatEvent
- screenEvents : chan datatype.DisplayMessage
+ SetChannels()
+ Start()
}
hat.HATInterface <|- hat.Hat
hat.HATInterface <|- hat.HatMock

@enduml

PlantUML version 1.2021.01(Tue Feb 02 09:55:08 IST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>